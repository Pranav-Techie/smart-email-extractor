<!DOCTYPE html>
<html>
<head>
  <title>üìß Smart Email Extractor</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 40px; }
    .container { max-width: 700px; background: #fff; padding: 20px; margin: auto; border-radius: 8px; }
    input[type="text"] { width: 100%; padding: 10px; margin: 10px 0; }
    button { background: #007bff; color: white; padding: 10px 16px; border: none; border-radius: 6px; cursor: pointer; }
    pre { background: #eee; padding: 10px; border-radius: 6px; white-space: pre-wrap; word-wrap: break-word; }
    .download { margin-top: 12px; display: inline-block; }
    .error { color: red; }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìß Smart Email Extractor</h1>

    <form method="POST" action="/scrape">
      <input type="text" name="url" placeholder="Enter website URL (e.g., https://example.com)" required>
      <button type="submit">Start Scraping</button>
    </form>

    {% if error %}
      <p class="error">{{ error }}</p>
    {% endif %}

    {% if results %}
      <h3>Results for {{ url }}</h3>
      <pre>{{ results | tojson(indent=2) }}</pre>

      {% if csvfile %}
        <div class="download">
          <a href="/download_csv?file={{ csvfile }}">
            <button type="button">‚¨áÔ∏è Download CSV</button>
          </a>
        </div>
      {% endif %}
    {% endif %}
  </div>
</body>
</html>
